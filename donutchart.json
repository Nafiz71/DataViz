{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "width": 600,
  "height": 400,
  "title": {
    "text": "Distribution of Company Types",
    "fontSize": 20,
    "fontWeight": "bold",
    "font": "Oxygen", 
    "anchor": "middle",
    "color": "black"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/Nafiz71/DataViz/refs/heads/main/SizeCom%5Bfiltered_top_10_job_titles.csv",
    "format": {"type": "csv"}
  },
  "params": [
    {
      "name": "CompanyTypeFilter",  
      "value": "All",              
      "bind": {
        "input": "select",
        "options": [               
          "All", 
          "Public Company",
          "Private Company",
          "Government Agency",
          "Non-profit Organization",
          "Other"
        ],
        "name": "Select Company Type: "  
      }
    }
  ],
  "transform": [
    {
      "filter": "(CompanyTypeFilter === 'All' || datum['Company Type'] === CompanyTypeFilter) && datum['Company Type'] != null && datum['Company Type'] != ''"
    }
  ],
  "encoding": {
    "theta": {
      "field": "Company Type",
      "aggregate": "count",
      "type": "quantitative",
      "title": "Number of Companies"
    },
    "color": {
      "field": "Company Type",
      "type": "nominal",
      "title": "Company Type",
      "legend": {
        "orient": "right",
        "labelFontSize": 12,
        "titleFontSize": 14,
        "titleFontWeight": "bold",
        "labelFont": "Oxygen",  
        "titleFont": "Oxygen"
      },
      "scale": {
        "range": [
          "#ffcc99",
          "#ff9966",
          "#ff6633",
          "#ff3300",
          "#ff0000",
          "#cc0000"
        ]
      }
    },
    "tooltip": [
      {
        "field": "Company Type",
        "type": "nominal",
        "title": "Company Type"
      },
      {
        "field": "Company",
        "type": "nominal",
        "aggregate": "count",
        "title": "Number of Companies"
      }
    ]
  },
  "mark": {
    "type": "arc",
    "innerRadius": 70,
    "outerRadius": 150,
    "stroke": "#fff",
    "strokeWidth": 2
  },
  "view": {
    "stroke": null
  },
  "config": {
    "axis": {
      "labelFont": "Oxygen",
      "titleFont": "Oxygen"
    },
    "legend": {
      "labelFont": "Oxygen",
      "titleFont": "Oxygen"
    },
    "title": {
      "font": "Oxygen",
      "fontSize": 18,
      "fontWeight": 600
    }
  }
}
